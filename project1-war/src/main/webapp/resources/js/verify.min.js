(function(c){ECar.tab({selector:"#tab",selected:"current"});ECar.validate.init({formid:"ver-mobile"});ECar.validate.init({formid:"ver-mail"});var d=function(j,i,h,f,g){$form=c("#"+i);c.ajax({type:"POST",url:base+"/account/tocheckCodeTrueorFa.htm?d="+new Date().getMilliseconds(),data:{Num:h,checkCode:f,typeId:g},success:function(e){if(e==0){if(ECar.validate.init.submit(i)){$form.submit()}}else{c('[validate="yzm"]').addClass("m-member-orange");if(c('[validate="yzm"]').parent().find(".errclass").size()>0){c('[validate="yzm"]').parent().find(".errclass").show().html("<i></i>"+(e==1?"您输入的验证码有误，请重新输入!":"您输入的验证码已失效，请重新输入!")+"</span>")}else{c('[validate="yzm"]').parent().append('<span class="yzmtxt m-notice m-err errclass"><i></i>'+(e==1?"您输入的验证码有误，请重新输入!":"您输入的验证码已失效，请重新输入!")+"</span>")}if(j&&j.preventDefault){j.preventDefault()}else{window.event.returnValue=false}return false}}})};c("#ver-mail .btnEmail").click(function(){var e=c("#ver-mail");if(ECar.validate.init.submit("ver-mail")){e.submit()}else{return false}});c("#ver-mobile .getcode,#mobileVerify .getcode,#mailVerify .getcode,#fillmobile .getcode,#bind-new-mobile .getcode,#findPassmobile .getcode").live("click",function(){c('[validate="phone"]').focus().blur();var i=c('[validate="phone"]').val();if(c(".phonetxt:visible").size()>0||i==""){return}var h;var f;var j=c(this);var g=c(this).parents("form").attr("id");var e=g.indexOf("mail")>0?true:false;if(!e){h=c("#mobile").val();f=c("#mobTemStyle").val();typeId=c("#mobileTypeId").val()}else{h=c("#email").val();f=c("#emailTemStyle").val();typeId=c("#emailTypeId").val()}if(c(this).hasClass("getcode-gray")){return}j.addClass("getcode-gray").css("cursor","default");a(h,f,j,typeId)});function a(h,e,g,f){c.ajax({type:"POST",url:base+"/account/toGetPhoneCode.htm?d="+new Date().getMilliseconds(),data:{Num:h,temStyle:e,typeId:f},success:function(i){if(i!=0){c('[validate="phone"]').removeClass("m-member-focus").addClass("m-member-orange");g.removeClass("getcode-gray");if(c('[validate="phone"]').parent().find(".errclass").size()>0){c('[validate="phone"]').parent().find(".errclass").show().html("<i></i>"+(i==1?"您输入的手机号已存在，请重新输入!":"请勿重复绑定旧手机，请重新输入!")+"</span>")}else{c('[validate="phone"]').parent().append('<span class="phonetxt m-notice m-err errclass"><i></i>'+(i==1?"您输入的手机号已存在，请重新输入!":"请勿重复绑定旧手机，请重新输入!")+"</span>")}return}else{c("#tab li").unbind();countDown({obj:g,speed:1000,wait:60,txt:"秒后再次发送",callback:b})}},error:function(){g.removeClass("getcode-gray")}})}function b(f){var e=c("#tab li.current").index();ECar.tab({selector:"#tab",start:e,selected:"current"});f.removeClass("getcode-gray").css("cursor","pointer").text("再次发送验证码")}ECar.validate.init({formid:"modifyemail"});c("#modifyemail .btn").click(function(h){var g=c("#email").val();var f=c("input[validate='yzm']").val();if(ECar.validate.init.submit("modifyemail")){d(h,"modifyemail",g,f,2)}});ECar.validate.init({formid:"bind-email-loginpaswd"});c("#bind-email-loginpaswd .btn").click(function(h){var g=c("#email").val();var f=c("input[validate='yzm']").val();if(ECar.validate.init.submit("bind-email-loginpaswd")){d(h,"bind-email-loginpaswd",g,f,2)}});ECar.validate.init({formid:"bind-pass-loginpaswd"});c("#bind-pass-loginpaswd .btn").click(function(f){$form=c("#bind-pass-loginpaswd");$form.submit()});ECar.validate.init({formid:"bind-mobile-loginPhonepaswd"});c("#bind-mobile-loginPhonepaswd .btn").click(function(f){$form.submit()});ECar.validate.init({formid:"bind-mobile-loginpaswd"});c("#bind-mobile-loginpaswd .btn").click(function(h){var g=c("#mobile").val();var f=c("input[validate='yzm']").val();if(ECar.validate.init.submit("bind-mobile-loginpaswd")){d(h,"bind-mobile-loginpaswd",g,f,1)}});ECar.validate.init({formid:"modifymobile"});c("#modifymobile .btn").click(function(h){var g=c("#mobile").val();var f=c("input[validate='yzm']").val();if(ECar.validate.init.submit("modifymobile")){d(h,"modifymobile",g,f,1)}});ECar.validate.init({formid:"accountSeruitymobile"});c("#accountSeruitymobile .btn").click(function(h){var g=c("#mobile").val();var f=c("input[validate='yzm']").val();if(ECar.validate.init.submit("accountSeruitymobile")){d(h,"accountSeruitymobile",g,f,1)}});ECar.validate.init({formid:"modifymobile_upd"});c("#modifymobile_upd .btn").click(function(h){var g=c("#mobile").val();var f=c("input[validate='yzm']").val();if(ECar.validate.init.submit("modifymobile_upd")){d(h,"modifymobile_upd",g,f,1)}});ECar.validate.init({formid:"accoutSeruityemail"});c("#accoutSeruityemail .btn").click(function(h){var g=c("#email").val();var f=c("#indentycode2").val();if(ECar.validate.init.submit("accoutSeruityemail")){d(h,"accoutSeruityemail",g,f,2)}});ECar.validate.init({formid:"modifyemail_updatePass"});c("#modifyemail_updatePass .btn").click(function(h){var g=c("#email").val();var f=c("input[validate='yzm']").val();if(ECar.validate.init.submit("modifyemail_updatePass")){d(h,"modifyemail_updatePass",g,f,2)}});ECar.validate.init({formid:"findPassmobile"});c("#findPassmobile .btn").click(function(h){var g=c("#mobile").val();var f=c("input[validate='yzm']").val();if(ECar.validate.init.submit("findPassmobile")){d(h,"findPassmobile",g,f,1)}});ECar.validate.init({formid:"findPassemail"});c("#findPassemail .btn").click(function(g){var f=c("#email").val();$form=c("#findPassemail");c.ajax({type:"POST",url:base+"/account/findPassWord/findPassByEmail.htm?d="+new Date().getMilliseconds(),data:{email:f,typeId:2},success:function(e){$form.parent().html(e)}})});ECar.validate.init({formid:"mobileVerify"});c("#mobileVerify .btn").click(function(h){var g=c("#mobile").val();var f=c("input[validate='yzm']").val();if(ECar.validate.init.submit("mobileVerify")){d(h,"mobileVerify",g,f,1)}});ECar.validate.init({formid:"emailVerify"});c("#emailVerify .btn").click(function(h){var g=c("#email").val();var f=c("#indentycode2").val();if(ECar.validate.init.submit("emailVerify")){d(h,"emailVerify",g,f,2)}})})(jQuery);