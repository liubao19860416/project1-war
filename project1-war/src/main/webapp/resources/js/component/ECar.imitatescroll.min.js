(function(d){var b=["DOMMouseScroll","mousewheel"];if(d.event.fixHooks){for(var a=b.length;a;){d.event.fixHooks[b[--a]]=d.event.mouseHooks}}d.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var e=b.length;e;){this.addEventListener(b[--e],c,false)}}else{this.onmousewheel=c}},teardown:function(){if(this.removeEventListener){for(var e=b.length;e;){this.removeEventListener(b[--e],c,false)}}else{this.onmousewheel=null}}};d.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}});function c(j){var h=j||window.event,g=[].slice.call(arguments,1),k=0,i=true,f=0,e=0;j=d.event.fix(h);j.type="mousewheel";if(h.wheelDelta){k=h.wheelDelta/120}if(h.detail){k=-h.detail/3}e=k;if(h.axis!==undefined&&h.axis===h.HORIZONTAL_AXIS){e=0;f=-1*k}if(h.wheelDeltaY!==undefined){e=h.wheelDeltaY/120}if(h.wheelDeltaX!==undefined){f=-1*h.wheelDeltaX/120}g.unshift(j,k,f,e);return(d.event.dispatch||d.event.handle).apply(this,g)}})(jQuery);(function(b,a){a.imitatescroll=function(k){var d={id:null,direction:"top",handle:".scrollbar-handler",moveDom:".scroll-content",conWidth:1520,showWidth:600,scrollScale:10};if(arguments.length>0&&typeof(arguments[0])=="object"){b.extend(d,k)}else{return false}var h=b(d.id);var c=h.find(d.handle);var i=h.find(d.moveDom);var e=h.find(".scrollbar-bg");var f=h.find(".scrollbar-narrow-up");var j=h.find(".scrollbar-narrow-down");var g={init:function(l){this.iScale=0;this.timer=null;this.disX=0,this.scrollable=true;if(d.direction=="left"){d.conWidth=i.width();d.showWidth=h.width();e.css({width:e.parent().width()-f.width()-j.width(),margin:"0 "+j.width()+"px 0 "+f.width()+"px"});c.width(e.width()*d.showWidth/d.conWidth);this.maxL=e.outerWidth()-c.outerWidth();this.realWidth=d.conWidth-d.showWidth}else{i.width(i.parent().width()-16);d.conWidth=i.height();d.showWidth=h.height();e.css({height:e.parent().height()-f.height()-j.height(),margin:j.height()+"px 0 "+f.height()+"px 0"});c.height(e.height()*Math.min(1,d.showWidth/d.conWidth));this.maxL=e.outerHeight()-c.outerHeight();this.realWidth=d.conWidth-d.showWidth}c.css(d.direction,0);if(!l){this.dragH();this.pressH();this.clickH();this.wheelH();c.click(function(m){m.stopPropagation()})}c.show();if(d.conWidth<=d.showWidth){this.scrollable=false}else{this.scrollable=true}return this},dragH:function(){var l=this;c.bind("mousedown",function(m){l.disX=(d.direction=="left"?m.pageX:m.pageY)-c.position()[d.direction];b(document).bind("mousemove",function(o){var n=(d.direction=="left"?o.pageX:o.pageY)-l.disX;n<=0&&(n=0);n>=l.maxL&&(n=l.maxL);c.css(d.direction,n);l.iScale=n/l.maxL;i.css(d.direction,-l.realWidth*l.iScale);return false});b(document).bind("mouseup",function(){l.stopDrap()});return false})},pressH:function(){var l=this;var m=0;j.bind("mousedown",function(){m=5;l.timer=setInterval(function(){l.togetherMove(parseInt(c.css(d.direction))+m)},10)});f.bind("mousedown",function(){m=-5;l.timer=setInterval(function(){l.togetherMove(parseInt(c.css(d.direction))+m)},10)});f.bind("mouseup",function(){clearInterval(l.timer)});j.bind("mouseup",function(){clearInterval(l.timer)})},clickH:function(){var l=this;e.bind("click",function(n){var m=(d.direction=="left"?n.pageX:n.pageY)-h.offset()[d.direction]-b(this).position()[d.direction]-c.outerWidth()/2;l.togetherMove(m)})},wheelH:function(){var l=this;h.bind("mousewheel",function(m,n){if(l.scrollable){l.togetherMove(parseInt(c.css(d.direction))-n*d.scrollScale)}return false})},togetherMove:function(l){if(l<=0){this.timer&&clearInterval(this.timer);l=0}else{if(l>=this.maxL){this.timer&&clearInterval(this.timer);l=this.maxL}}this.iScale=l/this.maxL;i.css(d.direction,-this.realWidth*this.iScale);c.css(d.direction,l)},stopDrap:function(){b(document).unbind("mousemove").unbind("mouseup")},scrollTo:function(l){var m=parseInt(i.css("top"));if(-m+i.parent().height()>l&&-m<l){return}this.togetherMove(l*this.maxL/this.realWidth)},reset:function(){i.removeAttr("style");c.removeAttr("style");this.init(true)}};return g.init()}})(jQuery,window.ECar||(window.ECar={}));