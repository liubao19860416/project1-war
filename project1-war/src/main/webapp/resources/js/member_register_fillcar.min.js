(function(c){var h=c("#brandtem").val();var g=c("#serietem").val();var a=c("#modeltem").val();ECar.placeholder(c("input"));if(h!=null&&h!=""&&h!="-1"){c.getJSON(base+"/account/getSeriesByBrandId.htm?brandid="+h,function(l){c("#series").empty();if(l){c("#series").append("<option value=-1>请选择</option>");for(var k in l){if(g==k){c("#series").append("<option selected value='"+k+"'>"+l[k]+"</option>")}else{c("#series").append("<option value='"+k+"'>"+l[k]+"</option>")}}c("#series").append("<option value=999999>其他</option>")}});if(g!=null&&g!=""&&g!="-1"){c.getJSON(base+"/account/findVelModelsBySeriesId.htm?seriesid="+g,function(l){c("#models").empty();if(l){c("#models").append("<option value=-1>请选择</option>");for(var k in l){if(a==k){c("#models").append("<option selected value='"+k+"'>"+l[k]+"</option>")}else{c("#models").append("<option value='"+k+"'>"+l[k]+"</option>")}}c("#models").append("<option value=999999>其他</option>")}})}}var b=true;var e=c(".brand-item");c("#brands").on("click",".brand-item",function(){var l=c(this);if(l.hasClass("selected")){return}e.removeClass("selected");var k=l.addClass("selected").data("val");c("#brandId").val(k);if(k!="-1"){c.getJSON(base+"/account/getSeriesByBrandId.htm?brandid="+k,function(n){c("#series").empty();if(n){c("#series").append("<option value=-1>请选择</option>");for(var m in n){c("#series").append("<option value='"+m+"'>"+n[m]+"</option>")}c("#models").empty().append("<option value='-1'>请选择</option>")}})}c("#brands").find(".m-err").hide()});c("#series").change(function(){if(c("#series").val()=="0"||c("#model").val()=="-1"){c("#models").empty();c("#models").append("<option value=-1>请选择</option>");c("#models").append("<option value=999999>其他</option>");return}c.getJSON(base+"/account/findVelModelsBySeriesId.htm?seriesid="+c("#series").val(),function(l){c("#models").empty();if(l){c("#models").append("<option value=-1>请选择</option>");for(var k in l){c("#models").append("<option value='"+k+"'>"+l[k]+"</option>")}}})});var d=false;c("#models").on("change validate",function(){var l=c(this),k=l.siblings(".m-err");if(c(this).val()=="-1"){k.find("span").text("车型必须选择");k.show();validstatus=false}else{k.hide();d=true}});var f=false;c("#series").on("change validate",function(){var l=c(this),k=l.siblings(".m-err");if(c(this).val()=="-1"){k.find("span").text("车系必须选择");k.show();validstatus=false}else{k.hide();f=true}});var i=true;c("#buytime").on("blur validate",function(){var k=/^19[0-9][0-9]|20[0-9][0-9]$/,m=c(this),l=m.closest("dd").find(".m-err"),n=c.trim(m.val());if(!k.test(n)){l.find("span").text("年份必须选择");l.show();i=false}else{i=true}});c("#buytime").on("focus",function(){var k=c("#buytime").closest("dd").find(".m-err");if(k.is(":visible")){k.hide()}});var j=c("#carinfo-form");c("#carintosubmit").on("click",function(){if(c("#brands").find(".selected").length===0){c("#brands").find(".m-err").show().find("span").text("品牌必须选择");b=false}else{b=true}c("#series").trigger("validate");c("#models").trigger("validate");c("#buytime").trigger("validate");if(b&&i&&f&&d){if(c("#buytime").val()!="-1"&&c("#series").val()!="-1"&&c("#models").val()!="-1"){j.submit()}}else{return}})})(jQuery);