(function(c){function a(f){if(f.attr("title")||typeof(f.attr("original-title"))!="string"){f.attr("original-title",f.attr("title")||"").removeAttr("title")}}function b(g,f){this.$element=c(g);this.options=f;this.enabled=true;a(this.$element)}b.prototype={show:function(){var l=this.getTitle();if(l&&this.enabled){var h=this.tip();h.find(".tipsy-inner")[this.options.html?"html":"text"](l);var g=this.options.color!=""?"-"+this.options.color:"";h[0].className="tipsy"+g;h.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).appendTo(document.body);var k=c.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight});var f=h[0].offsetWidth,i=h[0].offsetHeight;var n=(typeof this.options.gravity=="function")?this.options.gravity.call(this.$element[0]):this.options.gravity;var m;switch(n.charAt(0)){case"n":m={top:k.top+k.height+this.options.offset.top,left:k.left+k.width/2-f/2};break;case"s":m={top:k.top-i-this.options.offset.top,left:k.left+k.width/2-f/2};break;case"e":m={top:k.top+k.height/2-i/2,left:k.left-f-this.options.offset.left};break;case"w":m={top:k.top+k.height/2-i/2,left:k.left+k.width+this.options.offset.left};break}if(n.length==2){switch(n.charAt(1)){case"w":m.left=k.left+k.width/2-15;break;case"e":m.left=k.left+k.width/2-f+15;break;case"n":m.top=k.top-this.options.offset.top-15;break;case"s":m.top=k.top+k.width-i+this.options.offset.top+15;break}}var g=this.options.color!=""?"-"+this.options.color:"";h.css(m).addClass("tipsy"+g+"-"+n);if(this.options.fade){h.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity})}else{h.css({visibility:"visible",opacity:this.options.opacity})}var j=99;if(c("#moving_tab_main").is(":visible")){h.css({position:"fixed"})}h.css({zIndex:j})}},hide:function(){this.tip().remove()},getTitle:function(){var h,f=this.$element,g=this.options;a(f);var h,g=this.options;if(typeof g.title=="string"){h=f.attr(g.title=="title"?"original-title":g.title)}else{if(typeof g.title=="function"){h=g.title.call(f[0])}}h=(""+h).replace(/(^\s*|\s*$)/,"");return h||g.fallback},tip:function(){if(!this.$tip){var f=this.options.color!=""?"-"+this.options.color:"";var h=this.options.id==""?"":" tipsyid='"+this.options.id+"'";var g=this.options.formId==""?"":" tipsyformId='"+this.options.formId+"'";this.$tip=c('<div tipsy="true" class="tipsy'+f+'"'+h+g+"></div>").html('<div class="tipsy-arrow"></div><div class="tipsy-inner"/></div>')}return this.$tip},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled}};c.fn.tipsy=function(j){if(j===true){return this.data("tipsy")}else{if(typeof j=="string"){return this.data("tipsy")[j]()}}j=c.extend({},c.fn.tipsy.defaults,j);function i(m){var n=c.data(m,"tipsy");if(!n){n=new b(m,c.fn.tipsy.elementOptions(m,j));c.data(m,"tipsy",n)}return n}function l(){var m=i(this);m.hoverState="in";if(j.delayIn==0){m.show()}else{setTimeout(function(){if(m.hoverState=="in"){m.show()}},j.delayIn)}}function h(){var m=i(this);m.hoverState="out";if(j.delayOut==0){m.hide()}else{setTimeout(function(){if(m.hoverState=="out"){m.hide()}},j.delayOut)}}if(!j.live){this.each(function(){i(this)})}if(j.trigger!="manual"){var f=j.live?"live":"bind",k=j.trigger=="hover"?"mouseenter":"focus",g=j.trigger=="hover"?"mouseleave":"blur";this[f](k,l)[f](g,h)}return this};c.fn.tipsy.defaults={delayIn:0,delayOut:0,fade:false,fallback:"",gravity:"n",html:false,live:false,offset:{left:0,top:0},opacity:0.8,title:"title",trigger:"hover",color:""};c.fn.tipsy.elementOptions=function(g,f){return c.metadata?c.extend({},f,c(g).metadata()):f};c.fn.tipsy.autoNS=function(){return c(this).offset().top>(c(document).scrollTop()+c(window).height()/2)?"s":"n"};c.fn.tipsy.autoWE=function(){return c(this).offset().left>(c(document).scrollLeft()+c(window).width()/2)?"e":"w"};var d=function(){c("[valid-msg-text]").each(function(){if(c(this).is(":visible")){try{var g=c(this).tipsy("tip");if(g.is(":visible")){c(this).tipsy("show")}}catch(f){}}})};var e=0;c(window).bind("resize.tipsy,scroll.tipsy",function(){if(e){clearTimeout(e);e=0}e=setTimeout(d,50)});c(document).ajaxComplete(function(){c(".jqueryscroll, .benchviewDivs").scroll(function(){if(e){clearTimeout(e);e=0}e=setTimeout(d,50)})})})(jQuery);